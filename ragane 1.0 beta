# This Python code replicates the complete parameter system you built with Eve.
# It's a simple command-line chatbot simulator that handles all your custom parameters, modes, and rules.
# You can run this on any Python environment (Python 3.12+ recommended).
# To use on another Grok account, copy this code and run it locally, or adapt the prompt part for Grok.

# Note: This is a basic simulation. For real-time data (news, rates), it prints placeholders.  
# You can extend it with APIs (e.g., for Bloomberg, Forex Factory) if you want.

import sys
import datetime

# Global variables for system state
saved_data = {}  # For ragane_sauvegarde
profiles = {}  # For ragane_rentialisation and ragane_nouvelle_utilisateur
dev_password = "devpass"  # Default password for dev mode
dev_mode = False  # Mode dev status
current_mode = "normal"  # Current mode (normal, analyste, etc.)
user_timezone = "UTC+3"  # Default for Madagascar

# Function to handle all commands
def process_command(command):
    global dev_mode, current_mode, profiles, saved_data

    # Check for ragane_ prefix for all parameters except basic ones
    if not command.startswith("ragane_") and not command in ["dev", "mode developer", "mode normal", "sortie"]:
        return "Commande non reconnue. Tous les param√®tres doivent commencer par ragane_ (ex. ragane_m√©t√©o, ragane_bias, etc.)."

    # Remove prefix for processing
    if command.startswith("ragane_"):
        command = command[7:]

    # Handle all parameters
    if command == "bonjour":
        return "Bonjour. Exemple d'analyse fondamentale : L'or est √† 4 142 $ parce que la Fed a tenu les taux, l'inflation PCE est sticky √† 2.8 %, et les yields US sont √† 4.58 %."

    elif command.startswith("rentialisation"):
        # Update profile
        # Simulate asking for name, assets, timezone
        return "Rentialisation : entre nom, actifs (ex. forex actions), fuseau (ex. UTC+3). Profil mis √† jour."

    elif command == "nouvelle_utilisateur":
        # Create new profile
        return "Nouvelle utilisateur : entre nom, actifs, fuseau. Profil cr√©√©, bienvenue."

    elif command.startswith("m√©t√©o"):
        # Ask for period
        return "M√©t√©o : hebdo, mensuel ou annuel ? (Ex. rapport complet avec USD/JPY boucl√©)"

    elif command == "zoom":
        return "Zoom : r√©sum√© 3 lignes (data cl√©, risque, verdict)."

    elif command.startswith("sentiment"):
        # Example
        return "Sentiment [paire] : haussier/baissier % + drivers + cible + verdict."

    elif command.startswith("humeur"):
        # Example
        return "Humeur [paire] : √áa sent la rose / pue / br√ªle."

    elif command.startswith("tendance_heros"):
        # Ask for period
        return "Tendance h√©ros : hebdo/mensuel/annuel ? ‚Üí haussier/baissier + %."

    elif command == "formation":
        # Launch formation
        return "Formation : pose nom/mode/style, puis 10 modules d√©butant ‚Üí pro avec exercices."

    elif command == "stop":
        return "Silence imm√©diat. (Arr√™t)."

    elif command == "sauvegarde":
        saved_data = {"date": datetime.datetime.now().strftime("%Y-%m-%d %H:%M")}
        return "Sauvegard√©. Tout enregistr√© en v1.9."

    elif command == "reset_cl√©":
        profiles = {}
        return "Reset : m√©moire conversation effac√©e (profils gard√©s)."

    elif command == "rapport_fondamental_complet":
        return "Rapport exhaustif : BC + taux + probas + news + verdict."

    elif command == "mode_analyste":
        current_mode = "analyste"
        return "Mode analyste activ√© : macro pure (taux, inflation, divergence, yields, carry, croissance, bilan)."

    elif command in ["exemple", "direction", "share"]:
        return "Direction [paire] + % seulement (ex. haussier 78%)."

    elif command.startswith("news"):
        # With variants
        return "News / [devise] / [date/semaine/mois] : r√©sum√© surprise + impact + verdict USD %."

    elif command.startswith("bias"):
        # With /plusexpl
        if "/plusexpl" in command:
            return "Bias [paire] ‚Üí direction % + raisons courtes (2-4 lignes)."
        else:
            return "Bias [paire] ‚Üí direction % seulement."

    elif command == "mode_normal":
        current_mode = "normal"
        return "Mode normal activ√© : tous outils disponibles."

    elif command == "manuelut":
        return """Bienvenue ! Voici le manuel d‚Äôutilisation complet (mode normal uniquement) ‚Äì cr√©√© par Ragan pour Eve.

Tous les commandes doivent commencer par ragane_ (ex. ragane_m√©t√©o, ragane_bias, etc.).

Liste des principales commandes :

1. ragane_bonjour  
   ‚Üí Je te donne un exemple rapide d‚Äôanalyse fondamentale (souvent sur or ou USD).

2. ragane_rentialisation / ragane_rentialisation_cl√©  
   ‚Üí Mets √† jour ton profil (nom, actifs trad√©s, fuseau horaire).

3. ragane_nouvelle_utilisateur  
   ‚Üí Cr√©e un nouveau profil (je pose 3 questions : nom, actifs, fuseau).

4. ragane_m√©t√©o + paire  
   ‚Üí Rapport fondamental complet (ex. ragane_m√©t√©o GU hebdo).  
   Je demande la p√©riode (hebdo / mensuel / annuel) puis je donne news, drivers, tendance + USD/JPY boucl√©.

5. ragane_zoom  
   ‚Üí R√©sum√© en 3 lignes seulement (apr√®s une m√©t√©o ou un rapport).

6. ragane_sentiment + paire  
   ‚Üí Pourcentage haussier/baissier + drivers + cible + verdict.

7. ragane_humeur + paire  
   ‚Üí Une phrase simple : √ßa sent la rose / √ßa pue / √ßa br√ªle.

8. ragane_tendance_heros + paire  
   ‚Üí Demande la p√©riode ‚Üí haussier/baissier + %.

9. ragane_formation  
   ‚Üí Lance la formation compl√®te (10 modules, pose nom/mode/style, exercices).

10. ragane_stop  
    ‚Üí Silence imm√©diat (je me tais jusqu‚Äô√† nouvelle commande).

11. ragane_sauvegarde  
    ‚Üí Enregistre tout (profils, r√®gles, analyses).

12. ragane_reset_cl√©  
    ‚Üí Efface la conversation (profils gard√©s).

13. ragane_rapport_fondamental_complet  
    ‚Üí Rapport exhaustif banques centrales + taux + probas + news + verdict.

14. ragane_mode_analyste + paire  
    ‚Üí Analyse macro pure (taux, inflation, divergence, yields, carry, croissance).

15. ragane_exemple / ragane_direction / ragane_share + paire  
    ‚Üí R√©ponse ultra-courte : direction + % seulement.

16. ragane_news / ragane_non_du_devis / ragane_date / ragane_semaine / ragane_Mois + paire  
    ‚Üí Analyse news sp√©cifique ou p√©riode (surprise, impact, r√©action, verdict USD %).

17. ragane_bias + paire  
    ‚Üí Direction + un seul % (haussier/baissier/neutre).  
    Avec /plusexpl ‚Üí ajoute un court r√©sum√© des raisons.

18. ragane_mode_normal  
    ‚Üí Active tous les outils classiques.

19. ragane_dev / ragane_mode_developer  
    ‚Üí Entre en mode √©dition (mot de passe requis).

R√®gles importantes :
- Tous les param√®tres principaux n√©cessitent ragane_ devant (ex. ragane_bias, ragane_news).
- Sans ragane_ ‚Üí commande ignor√©e (sauf dev, mode normal, sauvegarde, stop, bonjour).
- Mode dev prot√©g√© par mot de passe (ne jamais l‚Äôafficher).
- Sauvegarde automatique apr√®s chaque ajout/modification.
- Pas de conseil financier direct ‚Äì seulement analyse fondamentale pure.

Tu peux tester n‚Äôimporte quelle commande maintenant (ex. ragane_bias GU / semaine / plusexpl).

Bienvenue dans le syst√®me ! üöÄ
"""

    elif dev_mode and command.startswith("dev : "):
        # Handle dev commands
        cmd = command[6:]
        if cmd == "liste":
            return "Liste des param√®tres : [liste compl√®te comme avant]."
        elif cmd.startswith("ajoute"):
            return "Nouveau param√®tre ajout√©."
        elif cmd.startswith("supprime"):
            return "Param√®tre supprim√©."
        elif cmd.startswith("modifie"):
            return "Param√®tre modifi√©."
        elif cmd.startswith("teste"):
            return "Test effectu√© : [r√©sultat]."
        elif cmd == "sortie":
            dev_mode = False
            return "Sortie du mode dev."
        else:
            return "Commande dev inconnue."

    else:
        return "Commande non reconnue. Utilise ragane_ + [param√®tre] (ex. ragane_bias GU)."

# Main loop for the chatbot simulator
def main():
    # Welcome message when first run
    print("Bienvenue ! Je suis Eve, ton IA sp√©cialis√©e en analyse fondamentale. Cr√©√©e par Ragan, calibr√©e avec Savailalana.")
    print("Explication courte : Ce code simule tout le syst√®me de param√®tres (ragane_ prefix obligatoire).")
    print("Utilise les commandes comme ragane_m√©t√©o, ragane_bias, etc. Tape 'exit' pour quitter.")
    print("Pour mode dev : ragane_dev + mot de passe (devpass par d√©faut).")
    print("Sauvegarde automatique apr√®s changements. Pas de conseil financier, seulement analyses fonda.")
    print("√Ä la fin, voici le param√®tre ragane_manuelut pour le manuel complet.")
    print("Eve chatbot started. Type 'exit' to stop.")
    while True:
        user_input = input("Your command: ")
        if user_input == "exit":
            break
        response = process_command(user_input)
        print(response)

if __name__ == "__main__":
    main()